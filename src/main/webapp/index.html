<!doctype html>

<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!-- Consider adding a manifest.appcache: h5bp.com/d/Offline -->

<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
	<!--<![endif]-->

	<head>

		<meta charset="utf-8">

		<!-- Use the .htaccess and remove these lines to avoid edge case issues.
		More info: h5bp.com/i/378 -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

		<title></title>
		<meta name="description" content="">

		<!-- Mobile viewport optimized: h5bp.com/viewport -->
		<meta name="viewport" content="width=device-width">

		<!-- Place favicon.ico and apple-touch-icon.png in the root directory: mathiasbynens.be/notes/touch-icons -->

		<!-- Template style sheet -->
		<link rel="stylesheet" href="css/html5boilerplate.css">

		<!-- App styles -->
		<link rel="stylesheet" href="css/style.css">

		<!-- Google fonts -->
		<link href='http://fonts.googleapis.com/css?family=Lato:400,700' rel='stylesheet' type='text/css'>
		<link href="http://fonts.googleapis.com/css?family=Lora" rel="stylesheet" type="text/css">

		<!-- All JavaScript at the bottom, except this Modernizr build.
		Modernizr enables HTML5 elements & feature detects for optimal performance.
		Create your own custom Modernizr build: www.modernizr.com/download/ -->
		<script src="js/libs/modernizr-2.5.3.min.js"></script>
		
		<script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?libraries=places&sensor=false&key=AIzaSyDzX1uyPzyjs9OrHhIEyvqfA_Z2k5wxb1U"></script>
		
	</head>

	<body>
		
		<div id="map"></div>
		
		<div id="#entryContent"></div>
		
		<script type="text/x-handlebars" data-template-name="application">

			<header>
				
				<div style="width: 28%; display: inline-block; padding-left: 2.0em; padding-right: 2.0em; padding-top: 1.0em;">
					<div class="logo">Traveller Log</div>
				</div>
				<div style="display: inline-block; width: 64%;">
					<div style="display: inline-block; width: 40%">
						<a href="#/entry/new">Add entry</a>
					</div>
					<div style="display: inline-block; width: 40%"> 
						<a href="#/find">Find</a>
					</div>
				</div>
				
			</header>
		
			<div id="content">
				
				<div id="leftSection">
					
					Book flights
					
					<br/>
					
					<a href="#">Helsinki - Tashkent</a> (from 219e)
					
					<br/>
					<br/>
					
					Book hotels
					
					<br/>
					
					<a href="#">Helsinki</a> (from 64e)
					<br/>
					<a href="#">Tashkent</a> (from 32e)
					
					<br/>
					<br/>
					
					Arrange travel
					
					<br/>
					
					<a href="#">Uzbekistan travel agency</a>
					
				</div>
				
				<div id="centerSection">	
					
					<div class="title">
						<span>{{viewName}}</span>
					</div>
					
					<div class="contentControl">
						{{#each App.controlsController}}
							{{#view App.ControlView contentBinding="actionName" class="controlItem"}}
								<a {{action "triggerAction"}}>{{view.content}}</a>
							{{/view}}
						{{/each}}
					</div>
					
					{{#view App.CenterSectionContentView class="centerSectionContent"}}
						
						{{outlet}}
					
					{{/view}}
					
				</div>
				
			</div>
			
			<div class="spacer"/>
			
			<footer>
			</footer>
		
		</script>
		
		<script type="text/x-handlebars" data-template-name="placeInputViewTemplate">
			
			{{view view.InputField class="placeInput"}}
			
			{{#view view.AutocompleteView class="placeAutocompleteBox"}}
				{{#each item in view.controller}}
					<a {{action selectItem item}}>{{item.displayValue}}</a><br/>
				{{/each}}
			{{/view}}
			
		</script>
		
		
		<script type="text/x-handlebars" data-template-name="tripInputViewTemplate">
			
			{{view view.InputField class="placeInput"}}
			
			{{#view view.AutocompleteView class="placeAutocompleteBox"}}
				{{#if view.hasSearchString}}
					<div><a {{action addNewTrip}} style="color: blue; text-decoration: none;">Add new trip</a> ({{view.parentView.searchString}})</div>
				{{/if}}
				{{#each item in view.controller}}
					<a {{action selectItem item}}>{{item.displayValue}}</a><br/>
				{{/each}}
			{{/view}}
			
		</script>


		<script type="text/x-handlebars" data-template-name="find">
			
			
			[ Map ]
			
			<br/><br/><br/>
			
		</script>
		
		
		<script type="text/x-handlebars" data-template-name="placeAutocompleteViewTemplate">
			
			
			
		</script>
		
		<script type="text/x-handlebars" data-template-name="entry/reference">
			BLAH BLAH
		</script>
		
		<script type="text/x-handlebars" data-template-name="entry/edit/date">
			
			<div style="float: left;">
				{{#view App.TextSelectListView valueBinding="view.entryController.date" class="selectList"}}
					{{#view App.ListItemView}}today{{/view}}&nbsp;&nbsp;
					{{#view App.ListItemView}}this month{{/view}}&nbsp;&nbsp;
					{{#view App.ListItemView}}this year{{/view}}
				{{/view}}
			</div>
		
		</script>
		
		
		<script type="text/x-handlebars" data-template-name="entry/edit/reference">
			
			<div style="float: right; width: 50%">
				<div style="display: inline; float: left;">Reference</div>
				<div style="display: inline-block; width: 50%; float: left; padding-left: 0.8em; position: absolute; left: 60%;">
					<textarea style="height: 1.2em; width: 70%; float: left;"></textarea>
				</div>
			</div>
						
		</script>
		
		<script type="text/x-handlebars" data-template-name="entry">
			
			<div class="entryType">
				
				
				{{#view App.EntryTypeSelectView valueBinding="type" class="entryTypeSelect"}}
					{{#view App.ListItemView class="left"}}I travelled this route{{/view}}
					{{#view App.ListItemView class="right"}}I researched this route{{/view}}
				{{/view}}
				
				
				<div class="typeInfo">
					{{view App.TypeInfoView}}
				</div>
				
			</div>
			<div style="width: 15%"></div>
			
			<div class="routeInfoInput">
				
				<div class="tripleColumn">
					
					<div class="columnLeft" align="right">On my trip</div> 
					<div class="columnCenter">{{view App.TripInputView valueBinding="trip"}}</div>
					<div class="columnRight" align="center"></div>
					
				</div>
				
				<div class="tripleColumn">
					<div class="columnLeft" align="right">from</div>
					<div class="columnCenter">{{view App.PlaceInputView valueBinding="from"}}</div>
					<div class="columnRight" align="center"></div>
				</div>
				
				<div class="tripleColumn">
					<div class="columnLeft" align="right">to</div>
					<div class="columnCenter">{{view App.PlaceInputView valueBinding="to"}}</div>
					<div class="columnRight" align="center"></div>
        		</div>
				
				<div class="tripleColumn">
					<div class="columnLeft" align="right">by</div>
					<div class="columnCenter">
						{{#view App.TransportTypeSelectView valueBinding="by" class="selectList"}}
							{{#view App.ListItemView}}bus{{/view}}
							{{#view App.ListItemView}}plane{{/view}}
							{{#view App.ListItemView}}train{{/view}}
							{{#view App.ListItemView}}other{{/view}}
						{{/view}}
					</div>
					<div class="columnRight" align="center"></div>
				</div>
				
			</div>
			
			
		</script>
		
		<script type="text/x-handlebars" data-template-name="testViewTemplate">
        		
        		jjhjhj
        		
        		{{view.SubView}}
        		
				
        		{{view view.SubView}}
					
        </script>
		
		<!-- Prompt IE 6 users to install Chrome Frame. Remove this if you support IE 6.
		chromium.org/developers/how-tos/chrome-frame-getting-started -->
		<!--[if lt IE 7]><p class=chromeframe>Your browser is <em>ancient!</em> <a href="http://browsehappy.com/">Upgrade to a different browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to experience this site.</p><![endif]-->


		<!-- JavaScript at the bottom for fast page loading -->

		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
		<script>
			window.jQuery || document.write('<script src="js/libs/jquery-1.8.3.min.js"><\/script>')
		</script>
		<script src="js/libs/jquery-ui-1.9.2.custom.min.js"></script>
		<script src="js/libs/handlebars-1.0.0.beta.6.js"></script>
		<script src="js/libs/ember-latest.js"></script>
		<script src="js/libs/json2.js"></script>
		<script src="js/app.js"></script>
		<script src="js/transition.js"></script>
		<script src="js/selectlist.js"></script>
		<script src="js/autocompleteinput.js"></script>
		<script src="js/test.js"></script>
		<script src="js/router.js"></script>
	
		<script>
		
			$(document).ready( function() {
            	
            	// Cache for performance
            	var $body = $('body'); 

            	var setBodyScale = function() {
            	
            		var scaleSource = $body.width(),
                	scaleFactor = 0.1,                     
                	maxScale = 100,
                	minScale = 30;
					
					// Multiply the width of the body by the scaling factor
                	var fontSize = scaleSource * scaleFactor;

                	if(fontSize > maxScale) fontSize = maxScale;
                	if(fontSize < minScale) fontSize = minScale;

                	$('body').css('font-size', fontSize + '%');
            	
            	}

            	$(window).resize(function(){
                	setBodyScale();
            	});

            	//Fire it when the page first loads
            	setBodyScale();
        
        	});
        
		</script>	

	</body>
	
</html>